<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>hello</title>
</head>
<body>
    
<script>  
/**
 * @param {string[]} emails
 * @return {number}
 */
var numUniqueEmails = function(emails) {
    let res = []
    // 匹配+和+后面的
    let pat = /(?=\+).*/
    // 匹配@左边的部分
    let pat2 = /.*(?=@)/
    // 匹配@右边的部分
    let pat3 = /(?<=@).*/
    emails.forEach(item => {
        //let [left, right] = item.split('@');
        let left = item.match(pat2)[0]
        let right = item.match(pat3)[0]
        left = left.replace(pat, '').replace(/\./g, '')
        res.push(`${left}@${right}`)
    })
    return new Set(res).size
};
var emails = ["test.email+alex@leetcode.com","test.e.mail+bob.cathy@leetcode.com","testemail+david@lee.tcode.com"];
console.log(numUniqueEmails(emails));

var numUniqueEmails2 = function(emails) {
    let res = []
    // 匹配+和+后面的
    let pat = /(?=\+).*/
    for (let item of emails) {
        let [left, right] = item.split('@');
        left = left.replace(pat, '').replace(/\./g, '')
        res.push(`${left}@${right}`)
    }
    return new Set(res).size
};
console.log(numUniqueEmails2(emails));
</script>
</body>
</html>

