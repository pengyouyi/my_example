<!DOCTYPE html>
<html>
<head>
<title><%$title%></title>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="format-detection" content="telephone=no" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<script type="text/javascript" src="files/zepto.min.js"></script>
<script id="style" type="text/template">
*{
	font-size-adjust: none;
	-webkit-touch-callout: none;
	-webkit-text-size-adjust: none;
	background-size: 100% 100%;
	-webkit-background-size: 100% 100%;
}
body,html{
	padding: 0;
	margin: 0;
}
a{
	text-decoration: none !important;
	outline: none !important;
}
img{
	vertical-align: middle;
}
body{
	color: #fff;
	background: #1E1C29;
	position: relative;
	font-family: sans-serif;
}
.part1,.part2,.part3{
	position: relative;
}
.part2:before,.part2:after,.part3:after{
	content: "";
	display: block;
	position:absolute;
	width: 100%;
	background-size: 100% 100%;
	-webkit-background-size:  100% 100%;
}
.part1{
	height: 1155vx;
	background-image: <@part1.jpg>;
}
.button-login{
	background: #1e65f5;
	color: #ffe300;
	font-size: 22vx;
	line-height: 45vx;
	padding: 0 12vx;
	-webkit-border-radius: 0 0 12vx 12vx;
	border-radius: 0 0 12vx 12vx;
	position: absolute;
	display: block;
	top: 0;
	right: 20vx;
	font-weight: bold;
}
.part1-info{
	left: 30vx;
	right: 30vx;
	bottom: 220vx;
	font-size: 24vx;
	line-height: 30vx;
	position: absolute;
}
.part1-down{
	top: 956vx;
	left: 0;
	right: 0;
	position: absolute;
	display: -webkit-box;
	-webkit-box-pack: center;
}
.part1-down>*{
	display: block;
	height: 102vx;
}
.button-azxz{
	width: 291vx;
	background-image: <@button-azxz.png>;
	margin-right: 3vx;
}
.button-yyxz{
	width: 295vx;
	background-image: <@button-yyxz.png>;
}
.part2{
	height: 661vx;
	z-index: 2;
	background-color: #CD2600;
	background-image: <@part2-title.png>;
	background-position: center 88vx;
	background-repeat: no-repeat;
	background-size: 429vx 49vx;
	-webkit-background-size: 429vx 49vx;
}
.part2:before{
	top: -66vx;
	height: 143vx;
	background-image: <@part2-top.png>;
}
.part2:after{
	top: 100%;
	height: 16vx;
	background-image: <@part2-bottom.png>;
}
.part2-nav{
	top: -64vx;
	padding-left: 8vx;
	display: -webkit-box;
	position: relative;
	-webkit-box-align: start;
	-webkit-box-pack: center;
}
.part2-nav>*{
	width: 132vx;
	height: 132vx;
	display: block;
	border-radius: 50%;
	-webkit-border-radius: 50%;
}
.button-jpgl{
	margin-right: 60vx;
}
.button-tqlb{
	margin-right: 48vx;
}
.part2-draw{
	padding-top: 28vx;
	font-weight: bold;
}
.part2-draw>*{
	display: -webkit-box;
	-webkit-box-pack: center;
}
.part2-draw>*+*{
	margin-top: 12vx;
}
.part2-draw>*>*+*{
	margin-left: 18vx;
}
.part2-draw>*>*{
	width: 174vx;
	height: 125vx;
	position: relative;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-box-align: center;
	background-image: <@part2-prize.png>;
}
.part2-draw>*>*>.img{
	top: 25vx;
	left: 0;
	right: 0;
	width: 140vx;
	height: 54vx;
	margin: 0 auto;
	position: absolute;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: contain;
	-webkit-background-size: contain;
}
.part2-draw>*>*>.txt{
	font-size: 18vx;
	text-align: center;
	position: absolute;
	left: 0;
	right: 0;
	bottom: 20vx;
	line-height: 1;
}
.part2-draw>*>.button-draw{
	background-image: <@button-draw.png>;
}
.part2-draw>*>*>.box{
	display: -webkit-box;
	position: absolute;
	top: 0;
	left: 2vx;
	right: 2vx;
	bottom: 5vx;
	font-size: 24vx;
	-webkit-box-align: center;
	-webkit-box-pack: center;
}
.part2-draw>*>*>.box.hl{
	-webkit-box-shadow: 0 0 10vx gold;
	box-shadow: 0 0 10vx gold;
	background: rgba(255,215,0,.3);
}
.part2-draw>*>.button-draw>.box{
	color: #ba5707;
	font-size: 30vx;
	line-height: 1;
}
.part2-counter{
	left: 190vx;
	right: 190vx;
	bottom: 18vx;
	position: absolute;
	font-weight: bold;
	font-size: 24vx;
	line-height: 60vx;
	background: #EA421C;
	text-align: center;
	border-radius: 30vx;
	-webkit-border-radius: 30vx;
}
.part2-counter:before{
	content: "剩余获奖次数：";
}
.prize1{
	background-image: <@prize-macbook_air.png>;
}
.prize2{
	background-image: <@prize-samsung_s5.png>;
}
.prize3{
	background-image: <@prize-cannon.png>;
}
.part3{
	color: #000;
	padding-bottom: 24vx;
	background: #FFD56F;
}
.part3:after{
	top: 100%;
	height: 23vx;
	background-image: <@part3-bottom.png>;
	background-repeat: repeat-x;
	background-size: 6.25% 100%;
	-webkit-background-size:  6.25% 100%;
}
.part3-info{
	padding: 32vx 24vx;
	font-size: 24vx;
	line-height: 42vx;
}
.part3-winner{
	margin: 0 auto;
	width: 538vx;
	height: 169vx;
	bottom: 24vx;
	padding: 0 22vx;
	background-image: <@part3-winner.png>;
}
.part3-winner-title{
	color: #e72b00;
	font-size: 30vx;
	font-weight: bold;
	line-height: 66vx;
}
.part3-winner-list{
	font-size: 24vx;
	line-height: 36vx;
	overflow: hidden;
	height: 70vx;
}
.part3-prize{
	color: #f60;
}
.part4{
	padding: 38vx 20vx 100vx;
}
.part4-title{
	color: #ff441a;
	line-height: 80vx;
	font-size: 36vx;
	font-weight: bold;
	padding: 0 10vx;
}
.part4-message{
	background: #4C4860;
	border: 3vx solid #000;
	border-radius: 8vx;
	-webkit-border-radius: 8vx;
	padding: 8vx 18vx;
	line-height: 50vx;
	font-size: 30vx;
	min-height: 150vx;
}
.part4-bottom{
	height: 92vx;
	color: #139f3e;
	font-size: 30vx;
	line-height: 36vx;
	padding: 10vx;
	font-weight: bold;
}
.part4-button{
	float: right;
	width: 194vx;
	height: 92vx;
	background-image: <@part4-button.png>;
	position: relative;
}
.part4-button>a{
	display: block;
	position: absolute;
	top: 4vx;
	left: 5vx;
	right: 4vx;
	bottom: 9vx;
}
.mask{
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 50;
	opacity: 0.7;
	display: none;
	background: #000;
	position: absolute;
}
.popup{
	top: 80vx;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 480vx;
	padding: 30vx;
	z-index: 100;
	position: absolute;
	background: #F54444;
	border-radius: 12vx;
}
.popup:before{
	top: -80vx;
	left: 0;
	right: 0;
	width: 356vx;
	height: 139vx;
	margin: 0 auto;
	content: "";
	position: absolute;
	display: block;
	z-index: 2;
	background-size: 100% 100%;
	-webkit-background-size: 100% 100%;
}
.popup-text{
	font-size: 30vx;
	line-height: 56vx;
	text-align: center;
	padding-bottom: 2vx;
}
.popup-hint{
	font-size: 24vx;
	line-height: 30vx;
	text-align: center;
}
.popup-form{
	margin-top: 26vx;
}
.popup-form>*+*{
	margin-top: 10vx;
}
.popup-form>*>*{
	vertical-align: top;
}
.popup-form>*>.label{
	width: 72vx;
	font-size: 30vx;
	color: #640000;
	line-height: 70vx;
	display: inline-block;
}
.popup-form input,.popup-form textarea{
	display: inline-block;
	background: #D23939;
	padding: 20vx;
	border: 0;
	margin: 0;
	font-size: 30vx;
	color: #fff;
	box-sizing: border-box;
	-webkit-box-sizing: border-box;
	resize: none;
	width: 400vx;
}
.popup-form input{
	height: 70vx;
}
.popup-form textarea{
	height: 120vx;
}
.pop-fail:before{
	background-image: <@pop-fail.png>;
}
.pop-win:before{
	background-image: <@pop-win.png>;
}
.pop-win{
	background-image: <@prize-ray.png>;
	background-size: 100% 213vx;
	-webkit-background-size: 100% 213vx;
	background-position: top;
	background-repeat: no-repeat;
}
.popup-prize{
	width: 306vx;
	height: 124vx;
	position: relative;
	margin: 0 auto;
	background-repeat: no-repeat;
	background-position: center center;
}
.popup-prize:before{
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-image: <@prize-glow.png>;
	background-size: 100% 100%;
	-webkit-background-size: 100% 100%;
}
.popup-prize1{
	background-image: <@prize-macbook_air_big.png>;
	background-size: 251vx 75vx;
	-webkit-background-size: 251vx 75vx;
}
.popup-prize4{
	background-image: <@prize-jd_50_big.png>;
	background-size: 159vx 97vx;
	-webkit-background-size: 159vx 97vx;
}
.button-close{
	display: block;
	position: absolute;
	background-image: <@button-close.png>;
	width: 54vx;
	height: 54vx;
	top: -16vx;
	right: -20vx;
}
.button-close+.popup-text{
	padding-top: 60vx;
}
.button-ok{
	width: 295vx;
	height: 102vx;
	margin: 30vx auto 0;
	font-size: 30vx;
	display: -webkit-box;
	-webkit-box-align: center;
	-webkit-box-pack: center;
	background-image: <@button-ok.png>;
}
.pop-login-title{
	line-height: 44vx;
	font-size: 36vx;
	text-align: center;
	color: #ffe18f;
}
.pop-login-form{
	background: #F0F0F0;
	border-radius: 12vx;
	-webkit-border-radius: 12vx;
	padding: 0 19vx;
	margin-top: 34vx;
}
.pop-login-form>*{
	font-size: 24vx;
	display: -webkit-box;
	-webkit-box-align: center;
}
.pop-login-form>*+*{
	border-top: 1px solid #C0C0C0;
}
.pop-login-form>*:before{
	content: attr(title);
	display: block;
	width: 80vx;
	color: #666;
}
.pop-login-input{
	display: block;
	-webkit-box-flex: 1;
	height: 70vx;
	padding: 5vx 18vx;
	-webkit-box-sizing: border-box;
	box-sizing: border-box;
	color: #333;
	font-size: 24vx;
	border: 0;
	background: transparent;
}
.pop-login-fb{
	margin-top: 16vx;
	font-size: 24vx;
	height: 64vx;
	padding: 0 5vx;
	line-height: 64vx;
}
.pop-login-label{
	color: #ffcfcf;
}
.pop-login-label>*{
	vertical-align: middle;
	margin: 0 auto;
	display: inline-block;
}
.pop-login-forget{
	color: #fdca50;
	float: right;
}
.pop-login-buttons{
	margin-top: 16vx;
	line-height: 72vx;
	font-size: 10vx;
	text-align: center;
	display: -webkit-box;
	-webkit-box-pack: center;
}
.pop-login-buttons+.pop-login-buttons{
	margin-top: 12vx;
}
.pop-login-buttons>*{
	display: block;
	background: #FAB240;
	padding: 0 10vx;
	line-height: 56vx;
	min-width: 120vx;
	color: #99460a;
	font-size: 21vx;
	font-weight: bold;
	border: 2vx solid #C43636;
	border-radius: 10vx;
	-webkit-border-radius: 10vx;
	-webkit-box-shadow: inset 0 -6vx 1px -3vx #F4990A;
}
.pop-login-buttons>*+*{
	margin-left: 8vx;
}
.pop-login-register{
	line-height: 40vx;
	margin-top: 16vx;
	text-align: center;
	font-size: 24vx;
}
.pop-login-register>a{
	color: #ffe18f;
}
footer{
	font-size: 24vx;
	line-height: 1;
	text-align: center;
}
.logos{
	border-top: 1px solid #4C4860;
	padding: 48vx 0 0;
	margin: 0 26vx;
}
.logos>*{
	display: inline-block;
	vertical-align: bottom;
}
.logo-baidu{
	width: 166vx;
	height: 86vx;
	background-image: <@logo-baidu.png>;
	margin-right: 86vx;
}
.logo-18183{
	width: 148vx;
	height: 90vx;
	background-image: <@logo-18183.png>;
}
.author{
	color: #d0d0d0;
	padding: 34vx 0;
}
.disclaim{
	color: #696482;
	padding: 34vx 0;
}
</script>
<style></style>
<script>
$(window).on("resize orientationchange", function(){
	var vw = innerWidth;
	if(vw == window._vw) return;
	$("style").text(function(temp){
		return temp.replace(/<(.)(.*?)>/g, function(str, c, exp){
			switch(c){
				case '=':
					return eval(exp);
				case '@':
					return 'url(files/' + exp + ')';
			}
		}).replace(/\b(\d+)vx\b/g, function(str, val){
			return vw / 640 * val + "px";
		});
	}($("#style").text()))
	window._vw = vw;
}).trigger("resize");
</script>
</head>
<body>
	<div class="mask"></div>
	<div class="part1">
		<a class="button-login" href="javascript:login()">登录/注册</a>
		<div class="part1-info">
钟汉良倾力代言，百度震撼首发，金庸正版授权《天龙八部3D》手游，
用最精美的场景氛围和最爽快的技能战斗体验营造一个真实的武侠世界。
生与死、是与非、爱与恨、恩与仇，这是一个既无限美好，又充满邪恶的世界，
这是一个刀光剑影又儿女情长的江湖，你的武侠梦到底在何处?刀已备好，
无人时劈雪，有人时杀人饮血，江湖已近，你准备好了吗？
		</div>
		<div class="part1-down">
			<a class="button-azxz" href="javascript:alert('download android')"></a>
			<a class="button-yyxz" href="javascript:alert('download iOS JB')"></a>
		</div>
	</div>
	<div class="part2">
		<div class="part2-nav">
			<a class="button-jpgl" href="javascript:alert('jump to jpgl')"></a>
			<a class="button-tqlb" href="javascript:alert('jump to tqlb')"></a>
			<a class="button-yxlt" href="javascript:alert('jump to yxlt')"></a>
		</div>
		<div class="part2-draw">
			<div>
				<div>
					<div class="img prize1"></div>
					<div class="txt">MacBook Air</div>
					<div class="box"></div>
				</div>
				<div>
					<div class="img prize2"></div>
					<div class="txt">Surface Pro 3</div>
					<div class="box"></div>
				</div>
				<div>
					<div class="img prize3"></div>
					<div class="txt">ThinkPad X250</div>
					<div class="box"></div>
				</div>
			</div>
			<div>
				<div>
					<div class="box">谢谢参与</div>
				</div>
				<div class="button-draw">
					<a class="box" href="javascript:draw()">立即<br/>抽奖</a>
				</div>
				<div>
					<div class="box">谢谢参与</div>
				</div>
			</div>
			<div>
				<div>
					<div class="img prize1"></div>
					<div class="txt">三星S5</div>
					<div class="box"></div>
				</div>
				<div>
					<div class="img prize2"></div>
					<div class="txt">Nexus 5</div>
					<div class="box"></div>
				</div>
				<div>
					<div class="img prize3"></div>
					<div class="txt">iPhone 6+</div>
					<div class="box"></div>
				</div>
			</div>
		</div>
		<div class="part2-counter">3</div>
	</div>
	<div class="part3">
		<div class="part3-info">
活动时间：10月10日—10月17日<br/>
活动对象：百度移动游戏用户（91、多酷）<br/>
活动内容：<br/>
1、活动期间只要访问本页面，每天均可获得一次抽奖机会。<br/>
2、首次成功下载《天龙八部3D》客户端，  即可获得第二次抽奖机会。
		</div>
		<div class="part3-winner">
			<div class="part3-winner-title">近期获奖玩家</div>
			<div class="part3-winner-list">
				<div>
恭喜Guoo****获得了 <span class="part3-prize">雪域霜衣（淡紫7天）</span><br/>
恭喜Guoo****获得了 <span class="part3-prize">玄灵丹</span><br/>
				</div>
			</div>
		</div>
	</div>
	<div class="part4">
		<div class="part4-title">侠客留言幸运奖</div>
		<div class="part4-message">
诺言：这游戏很有意思，很好玩<br/>
蓝色妖姬：这游戏很有意思
		</div>
		<div class="part4-bottom">
			<div class="part4-button">
				<a href="javascript:alert('jump to liuyan')"></a>
			</div>
留下你的祝福，<br/>
送上最给力的幸运礼包
		</div>
	</div>
	<footer>
		<div class="logos">
			<div class="logo-baidu"></div>
			<div class="logo-18183"></div>
		</div>
		<div class="author">百度《天龙八部3D》热血运营团队</div>
		<div class="disclaim">*本活动最终解释权归百度移动游戏所有*</div>
	</footer>
<script id="pop_login" type="text/template">
<form class="popup pop-login">
	<div class="button-close close"></div>
	<div class="pop-login-title">18183登录</div>
	<div class="pop-login-form">
		<div title="用户名">
			<input class="pop-login-input" type="text" maxlength="32" name="username"/>
		</div>
		<div title="密码">
			<input class="pop-login-input" type="password" maxlength="32" name="password"/>
		</div>
	</div>
	<div class="pop-login-fb">
		<label class="pop-login-label">
			<input type="checkbox" name="autologin"/>
			<span>自动登录</span>
		</label>
		<a href="javascript:alert('jump to forget')" class="pop-login-forget">忘记密码？</a>
	</div>
	<div class="pop-login-buttons">
		<a href="javascript:alert('18183 login')">18183登录</a>
		<a href="javascript:alert('baidu login')">百度登录</a>
		<a href="javascript:alert('91 login')">91登录</a>
	</div>
	<div class="pop-login-buttons">
		<a href="javascript:alert('duoku login')">多酷登录</a>
		<a href="javascript:alert('qq login')">QQ登录</a>
	</div>
	<div class="pop-login-register">
		<a href="javascript:alert('jump to reg')">没有账号点这里注册&nbsp;&gt;&gt;</a>
	</div>
</form>
</script>
<script id="pop_fail" type="text/template">
<div class="popup pop-fail">
	<div class="button-close close"></div>
	<div class="popup-text">{text}</div>
	<div class="button-ok close">{ok}</div>
</div>
</script>
<script id="pop_win1" type="text/template">
<div class="popup pop-win">
	<div class="button-close close"></div>
	<div class="popup-prize popup-prize{prize}"></div>
	<div class="popup-text">{text}</div>
	<div class="button-ok close">{ok}</div>
</div>
</script>
<script id="pop_win2" type="text/template">
<div class="popup pop-win">
	<div class="button-close close"></div>
	<div class="popup-prize popup-prize{prize}"></div>
	<div class="popup-text">{text}</div>
	<div class="popup-hint">{hint}</div>
	<form class="popup-form">
		<div><div class="label">账号</div><input maxlength="32"/></div>
		<div><div class="label">姓名</div><input maxlength="5"/></div>
		<div><div class="label">手机</div><input maxlength="11"/></div>
		<div><div class="label">地址</div><textarea maxlength="64"></textarea></div>
	</form>
	<div class="button-ok">{ok}</div>
</div>
</script>
<script>
function pop(id, data, callback, p){
	$(".mask").show();
	(p = $($("#pop_" + id).html().replace(/\{(.*?)\}/g, function(p, p1){
		return data && data[p1]
	}))).appendTo('body')
	.css("top", Math.max(parseInt(p.css("top")), (innerHeight - p.height()) / 2 + (window.scrollY || 0)))
	.on("close", function(){
		$(".mask").hide();
		p.remove();
	}).find(".close").click(function(){
		p.trigger("close");
	});
	callback && callback(p);
}
function test1(){
	pop("fail", {
		text: "手气不够好啊，木有抽到奖品<br/>谢谢您的参与！",
		ok: "我知道了"
	});
}
function test2(){
	pop("win1", {
		prize: 1,
		text: "获得青铜星玩家大礼包<br/>邀请码：189403",
		ok: "我知道了"
	});
}
function test3(){
	pop("win2", {
		prize: 4,
		text: "获得50元京东充值卡",
		hint: "请如实填写您的个人信息以便我们发放奖励<br/>您的个人信息我们会妥善保管",
		ok: "提　交"
	}, function(p){
		$('.button-ok', p).click(function(){
			// 此处模拟ajax请求
			setTimeout(function(){
				p.trigger('close');
			}, 100);
		})
	});
}
function animateDraw(prize, callback){
	$('.part2-draw .hl').removeClass("hl");
	var start = +new Date, current,
		anim = setInterval(function(){
			// 控制动画时间
			if(new Date - start > 5e3 && current == prize){
				clearInterval(anim);
				callback();
			} else{
				var next = $('.part2-draw .box:not(.hl):not(a)');
				$('.part2-draw .hl').removeClass("hl");
				current = next.eq(next.length * Math.random() | 0).addClass("hl").siblings('.img');
				current = current[0] ? +current[0].className.match(/prize(\d)/)[1] : -1;
			}
		}, 250);
}
var drawing, counter = 3;
function draw(){
	if(drawing || counter <= 0) return;
	drawing = true;
	// 此处用计时器模拟web请求，应替换成ajax方法
	setTimeout(function(){
		var prizes = [-1, -1, -1, 1, 2, 3],
			prize = prizes[Math.random() * prizes.length | 0];
		animateDraw(prize, function(){
			drawing = false;
			counter--;
			updateCounter();
			if(prize != -1){
				test3();
			} else{
				test1();
			}
		});
	}, 200);
}
function login(){
	pop("login")
}
function updateCounter(){
	$('.part2-counter').text(counter);
}
</script>
</body>
</html>
